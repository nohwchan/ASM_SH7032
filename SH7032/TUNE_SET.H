;***********************************************
;SET PARAMETER OF EACH PROGRAM FOR AUTO TUNNING*
;***********************************************
        MOV FR5000T,R0
        MOV FMAXT,R1
        MOV FSATT,R2
        MOV.W R0,@R1
        MOV.W R0,@R2
        MOV ACCTIMET,R1
        MOV DECTIMET,R2
        MOV T150,R0
        MOV R0,@R1
        MOV.W R0,@R2
        MOV TBOOSTT,R1
        MOV #0,R0
        MOV.W R0,@R1

            MOV PSTATUST,R1
            MOV.B @R1,R0
            AND #B'11111011,R0
            OR #B'1,R0
            MOV.B R0,@R1

        MOV LOWERT,R1
        MOV #0,R0
        MOV.W R0,@R1
	MOV JUMP1T,R1
	MOV JUMP2T,R2
	MOV JUMP3T,R3
	MOV DUTYST,R4
	MOV DUTYET,R5
	MOV BRKSRT,R6
	MOV BRKSTP,R7
	MOV.W R0,@R1
	MOV.W R0,@R2
	MOV.W R0,@R3
	MOV.W R0,@R4
	MOV.W R0,@R5
	MOV.W R0,@R6
	MOV.W R0,@R7
	MOV SLIPFREQ,R1
	MOV.W R0,@R1
        MOV STRFREQT,R1
        MOV STPFREQT,R2
        MOV #50,R0
        MOV.W R0,@R1
        MOV.W R0,@R2

	MOV STALL1,R1
	MOV #0,R0
	MOV.B R0,@R1
	MOV QSTATUST,R1
	MOV.B @R1,R0
	AND #B'11111100,R0
	MOV.B R0,@R1

            MOV SYSFLGT,R1
            ADD #1,R1
            MOV.B @R1,R0
            AND #B'11111101,R0
            OR  #B'100,R0
            MOV.B R0,@R1

            MOV RSTATUST,R1
	    MOV.B @R1,R0
	    AND #B'0111111,R0
	    MOV.B R0,@R1

	MOV V5079,R0
	MOV TBASE2,R1
	MOV GRA3_,R2
	MOV.W R0,@R1
	MOV.W R0,@R2
	MOV #2,R0
	MOV INTLOOP2,R1
	MOV.B R0,@R1
	MOV UDCOM1,R1
	MOV #10,R0
	MOV.W R0,@R1
	MOV UDCOM3,R1
	MOV #18,R0
	MOV.W R0,@R1
	MOV UDCOM5,R1
	MOV #26,R0
	MOV.W R0,@R1
	MOV INTCOUNT2,R1
	MOV #0,R0
	MOV.B R0,@R1

;CORRECT2-----------------BEGIN-------------------------
	MOV WSTATUS5,R1
	MOV.B @R1,R0
	AND #B'01111110,R0		;CLEAR SEARCH FLAG AND SOFT START SSL BEFORE TUNE
	MOV.B R0,@R1	
	MOV VSTATUS5,R1
	MOV.B @R1,R0
	AND #B'11101111,R0		;CLEAR SEARCH FLAG BEFORE TUNE
	MOV.B R0,@R1
;CORRECT2------------------END--------------------------

	    BRA OUT_TUNE_SET
	    NOP

	.ALIGN 4
FR5000T:         .DATA.L 5000
FSATT:          .DATA.L _F_SAT
FMAXT:          .DATA.L _F_MAX
ACCTIMET:       .DATA.L ACC1_TIM
DECTIMET:       .DATA.L DEC1_TIM
T150:           .DATA.L 150
TBOOSTT:        .DATA.L _T_BOOST
PSTATUST:       .DATA.L _P_STATUS
LOWERT:         .DATA.L _LOWER
JUMP1T:		.DATA.L _F_JUMP1
JUMP2T:		.DATA.L _F_JUMP2
JUMP3T:		.DATA.L _F_JUMP3
STRFREQT:       .DATA.L _STR_FRE
STPFREQT:       .DATA.L _STP_FRE
DUTYST:		.DATA.L _DUTYS
DUTYET:		.DATA.L _DUTYE
BRKSRT:		.DATA.L _BRK_TIME
BRKSTP:		.DATA.L _STOPTIME
RSTATUST:       .DATA.L _R_STATUS
SYSFLGT:        .DATA.L SYSFLG
V5079:		.DATA.L 5079
TBASE2:		.DATA.L _TBASE
INTLOOP2:	.DATA.L INT_LOOP
GRA3_:		.DATA.L H'5FFFF28
UDCOM1:		.DATA.L UD_COM1
UDCOM3:		.DATA.L UD_COM3
UDCOM5:		.DATA.L UD_COM5
INTCOUNT2:	.DATA.L INT_COUNT
STALL1:		.DATA.L _STALL
QSTATUST:	.DATA.L _Q_STATUS
SLIPFREQ:	.DATA.L _SLIP_FRE
WSTATUS5:       .DATA.L _W_STATUS
VSTATUS5:       .DATA.L _V_STATUS
        .ALIGN 4
OUT_TUNE_SET:
	
